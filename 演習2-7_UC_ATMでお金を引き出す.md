## ユースケース名：お金を引き出す

### 概要
このユースケースは、ATMを使用して口座から現金を引き出すことを目的としています。

### アクター
- ユーザー

### 事前条件
- ユーザーは、銀行口座を開設している。
- ユーザーは、銀行が発行したキャッシュカードを所有している。
- ユーザーは、ATMの前にいる。

### 事後条件
- ユーザーは、要求した金額の現金を受け取り、口座残高が更新されている。
- ATMは、ログアウトされている。


### 基本フロー
1. ユーザーは、ATMの画面で「引き出し」を選択する。
2. ATMは、ユーザーに銀行口座に関する情報を入力するように促す。
3. ユーザーは、キャッシュカードをATMに挿入する。
4. ATMは、ユーザーが銀行口座にアクセスできることを確認する。
5. ユーザーは、引き出したい金額を入力する。
6. ATMは、ユーザーの口座から引き出すことができる十分な残高があることを確認する。
7. ATMは、ユーザーが要求した金額を引き出す。
8. ATMは、ユーザーに現金を出力し、口座残高を更新する。
9. ユーザーは、ATMからキャッシュカードを取り出す。
10. トランザクションが完了したら、ATMは自動的にログアウトする。

### 代替フロー
- ステップ6で、ユーザーの口座に十分な残高がない場合は、ATMはユーザーに警告を表示し、引き出しを中止します。
- ステップ7で、ATMが現金を出力できない場合（例えば、紙幣が切れているなど）、ATMはユーザーに警告を表示し、引き出しを中止します。

### 【基本シナリオ】
1. ユーザーがATMに向かい、キャッシュカードをATMのカードスロットに挿入する。
2. ATMがカードを認識し、PINコードの入力を求める。
3. ユーザーがPINコードを入力する。
4. ATMがユーザーの口座情報を取得する。
5. ユーザーがメニュー画面から「お引き出し」を選択する。
6. ATMがユーザーに引き出し金額の入力を求める。
7. ユーザーが引き出し金額を入力する。
8. ATMがユーザーの残高を確認し、引き出し金額が引き出し可能な範囲内であることを確認する。
9. ATMがユーザーに確認メッセージを表示し、ユーザーが引き出し金額に同意するか確認する。
10. ユーザーが引き出しに同意する場合、ATMが現金を出力する。
11. ATMがユーザーに出力された現金を提示し、ユーザーが受け取る。
12. ATMがユーザーにカードを返却する。
13. ユーザーがATMから離れる。
14. トランザクションの完了とともに、ATMが自動的にログアウトする。
### 【例外シナリオ】
- ステップ4～10のいずれかのステップで、システムエラーが発生した場合、ATMがエラーメッセージを表示し、引き出しを許可しない。
- ユーザーはATMからカードを取り出し、別のATMで再度試すことができる。
- ステップ1～13のいずれかのステップで、ATMと銀行サーバー間の通信エラーが発生した場合、ATMがエラーメッセージを表示し、引き出しを許可しない。
- ユーザーはATMからカードを取り出し、別のATMで再度試すことができる。